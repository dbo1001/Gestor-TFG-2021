\apendice{Documentación técnica de programación}

\section{Introducción}
En esta sección se describe la estructura del proyecto, el proceso de instalación del framework y herramientas necesarias para desarrollar el trabajo, cómo realizar la compilación,las pruebas realizadas, la instalación y ejecución del proyecto.

\section{Estructura de directorios}
Se enumerarán y describirán brevemente los directorios del proyecto.

\begin{itemize}
	\item \textbf{/:} directorio raíz donde se ubican el README, el fichero de configuración para el despliegue de Heroku, los archivos de configuración de Vaadin 14, Spring Boot y Maven. 
	\item \textbf{/.github/workflows} los archivos de \textit{workflow} o flujo de trabajo, tanto para la Integración continua del proyecto en GitHub cómo para el análisis de la calidad del código en SonarCloud.
	\item \textbf{/Documentacion} material de documentación del proyecto y aplicaciones de prueba empleadas.
		\begin{itemize}
			\tightlist
			\item \textbf{/Documentacion/LaTeX} ficheros para generar la memoria y los anexos.
			\item \textbf{/Documentacion/Pruebas} aplicaciones prototipo para comenzar el aprendizaje con Vaadin.
		\end{itemize}
	\item \textbf{/frontend} código encargado del diseño gráfico de la aplicación por el lado del cliente.
	\item \textbf{/src} código \textit{backend} de la aplicación web principal, \textbf{sistinf}.
	\begin{itemize}
		\tightlist
		\item \textbf{/src/main/java/ubu/digit} código fuente en Java de la aplicación web.
			\begin{itemize}
				\item \textbf{/src/main/java/ubu/digit/persistence} código fuente encargado de la conexión y lectura de los ficheros de datos (fachada de datos).
				\item \textbf{/src/main/java/ubu/digit/security} código fuente de conexión y consulta con el Moodle de UbuVirtual.
				\item \textbf{/src/main/java/ubu/digit/ui} código en relación a las ventanas y vistas de la aplicación.
				\item \textbf{/src/main/java/ubu/digit/util} incluye los métodos empleados de utilidad empleados en toda la app. 
				\item \textbf{/src/main/java/ubu/digit/webService} servicios web empleados para la consulta en Moodle.
			\end{itemize}
		\item \textbf{/src/test} tests unitarios
	\end{itemize}
\end{itemize}


\section{Manual del programador}
A continuación se explicará cómo realizar la instalación de los programas necesarios para el desarrollo de la aplicación.

\subsection{Instalación de Java}
Como en el proyecto se usa Vaadin 8, se debe emplear la \textbf{versión 8 de Java}, en concreto se ha usado la jdk1.8.0\_271.
 
Para ello se deberá ir a la \href{https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html}{página de descargas de Oracle Java SE 8.0} y descargar la versión de JDK 8 correspondiente con tu sistema operativo y su arquitectura, ya sea de 64 o 32 bits. Ver imagen \ref{fig:Descarga_JDK_8}.

Tras escoger la versión según nuestro SO se deberán de leer y aceptar las licencias de uso de Oracle, como se muestra en la figura \ref{fig:Descarga_JDK8_Licencia}, y dar a descargar. 

\imagenflotante{Descarga_JDK_8}{Descarga de JDK 8}{0.9}
\imagenflotante{Descarga_JDK8_Licencia}{Descarga JDK 8 Licencia}{0.9}

Una vez descargado, se deberá ejecutar el instalador y seguir el proceso de instalación del asistente.

\subsection{Instalación de Eclipse}
A continuación se instalará un entorno de desarrollo integrado(IDE) para Java, en este caso se ha utilizado \textbf{Eclipse IDE for Enterprise Java Developers} en la versión 2020-06. 

Para descargar el IDE se accederá a la \href{https://www.eclipse.org/downloads/packages/release/2020-06/r}{página de descargas de Eclipse} y descargar la opción correspondiente a nuestro sistema operativo del \textbf{Eclipse Installer 2020-06 R}. Ver imagen \ref{fig:Descargar_IDE}.

\imagenflotante{Descargar_IDE}{Descargar IDE Eclipse}{0.9}

En el caso de los sistemas operativos Windows se descargará un archivo ejecutable que se deberá ejecutar como administrador. Una vez ejecutado se deberá seleccionar la opción ``\textbf{\textit{Eclipse IDE for Enterprise Java Developers}}''. 

En el siguiente paso, en el apartado de ``\textbf{Java 1.8 + VM}'' se deberá seleccionar la carpeta donde se encuentra el JDK 8, instalado anteriormente.

\imagenflotante{Eclipse_Installer}{Seleccionar Eclipse}{0.8}
\imagenflotante{Eclipse_Installer_JDK}{Seleccionar JDK que usará el IDE}{0.8}

\subsection{Instalación del \textit{plugin de Vaadin} para Eclipse}
Una vez se haya instalado Eclipse, se procederá a añadir el plugin de Vaadin para Eclipse. Esto se realizará mediante el \textbf{Eclipse Marketplace de Eclipse}, el cual se encuentra en la opción de ``\textbf{\textit{Help/Eclipse Marketplace...}}'' de la barra de herramientas.

\imagenflotante{Eclipse_marketplace}{Eclipse marketplace}{0.7}

Una vez en el Eclipse Marketplace, se buscará ``\textbf{Vaadin}'' y se pulsará ``\textbf{Go}''. Tras salir el plugin ``\textbf{\textit{Vaadin Plugin for Eclipse}}'', se dará a ``\textbf{Install}'' y comenzará la instalación del plugin.

\imagenflotante{Plugin_Vaadin}{Plugin Vaadin}{1.0}

\section{Compilación, instalación y ejecución del proyecto}
Se explicará como compilar, instalar e ejecutar el proyecto. En el caso de la ejecución, se detallará como hacerlo con el términal de Windows y mediante Eclipse (IDE).

\subsection{Descarga del repositorio}
El código fuente se encuentra en el \href{https://github.com/dbo1001/Gestor-TFG-2016}{repositorio del proyecto} en GitHub. Para descargarlo se deberá hacer click en ``\textbf{\textit{Code}}'' y copiar la URL que aparece en el apartado de ``\textbf{HTTP}''. Con esta URL deberemos ir al ``\textbf{GitHub Desktop}'' y clonar el repositorio.

\imagenflotante{GitHub_Code}{Copiar URL repositorio}{1.1}

Si se desea tener código en local se deberá descargar el zip ``\textbf{\textit{Download ZIP}}'' en la opción ``\textbf{\textit{Code}}'' anteriormente mencionada. Una vez descargado el zip se descomprimirá y abrirá con Eclipse. 

Para abrir el proyecto con Eclipse se seleccionara en la barra de herramientas \textbf{\textit{File/Import\dots}}. Aparecerá una ventana en la que se optará por la opción ``\textbf{\textit{Projects from Folder or Archieve}}'' y se hará click en ``\textbf{\textit{Next}}''.

Después se hará click en ``\textbf{\textit{Directory\dots}}'' y se seleccionará la carpeta del proyecto con nombre ``\textbf{sistinf}'' y términaremos la importación con ``\textbf{\textit{Finish}}''.
	
\section{Pruebas del sistema}
